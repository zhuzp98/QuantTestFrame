(self.webpackChunklite=self.webpackChunklite||[]).push([[703],{24049:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});var i=t(67294);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a.apply(this,arguments)}var l=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm1 0a10 10 0 1 1-20 0 10 10 0 0 1 20 0zm-9.07-4.74a.25.25 0 0 0-.25-.26h-1.2a.25.25 0 0 0-.25.26l.13 6.29c0 .13.12.24.25.24h.94c.13 0 .24-.1.25-.24l.13-6.3zM11 16.25c0-.66.44-1.09 1.09-1.09.66 0 1.08.43 1.08 1.09 0 .64-.43 1.06-1.08 1.06-.65 0-1.09-.42-1.09-1.06z",fill:"#C94A4A"});const o=function(e){return i.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),l)}},69920:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});var i=t(67294);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a.apply(this,arguments)}var l=i.createElement("path",{d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18zM8.25 12h7.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"});const o=function(e){return i.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),l)}},18978:(e,n,t)=>{"use strict";t.d(n,{L:()=>c});var i=t(67294),a=t(71652),l=t(82405),o=t(77355),r=t(20113),d=t(87691),s=t(21372),c=function(e){var n=e.collection,t=e.buttonSize,c=e.buttonStyleFn,u=n.name,m=n.description;return i.createElement(o.x,{padding:"15px",display:"flex",flexDirection:"column",width:"300px"},i.createElement(o.x,{display:"flex",flexDirection:"row",justifyContent:"space-between",whiteSpace:"normal",borderBottom:"neutral.primary",paddingBottom:"10px",marginBottom:"10px"},i.createElement(o.x,{display:"flex",flexDirection:"column",paddingRight:"5px"},i.createElement(r.X6,{scale:"S"},u),i.createElement(d.F,{scale:"S"},m)),i.createElement(o.x,null,i.createElement(a.v,{collection:n,link:!0}))),i.createElement(o.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(d.F,{scale:"M"},"Followed by ",(0,s.pY)(n.subscriberCount||0)," people"),i.createElement(l.F,{collection:n,buttonSize:t,buttonStyleFn:c,susiEntry:"follow_card"})))}},14045:(e,n,t)=>{"use strict";t.d(n,{M:()=>r});var i=t(67294),a=t(77355),l=t(93310),o=t(50458);function r(e){var n=e.entityName,t=void 0===n?"story":n;return i.createElement(a.x,{textAlign:"center"},"Deletion is not reversible, and the story will be completely deleted. If you do not want to delete, you can"," ",i.createElement(l.r,{target:"_blank",href:o.aH,inline:!0,linkStyle:"OBVIOUS"},"unlist the ",t),".")}},5351:(e,n,t)=>{"use strict";t.d(n,{f:()=>c,w:()=>u});var i=t(34699),a=t(67294),l=t(14646),o=t(68894),r=t(47786),d=function(e){return{overflow:"hidden",transition:"opacity 300ms ease".concat(e?"":" 300ms",", max-height 300ms ease").concat(e?" 300ms":""),maxHeight:e?"0":"450px",opacity:e?0:1}},s=(0,a.createContext)({});function c(e){var n=e.children,t=e.post,c=e.hidePost,u=e.unhidePost,m=(0,l.I)(),p=(0,a.useRef)(!1),v=(0,a.useState)(!1),k=(0,i.Z)(v,2),f=k[0],g=k[1],b=(0,o.O)(!1),S=(0,i.Z)(b,3),h=S[0],y=S[1],E=S[2],N=(0,a.useCallback)((function(e){f&&p.current&&("max-height"===e.propertyName?(y(),p.current=!1):null==c||c(t.id))}),[f,t.id,c]),w=(0,a.useCallback)((function(){p.current=!0,g(!0)}),[]),x=(0,a.useCallback)((function(){g(!1),null==u||u(t.id)}),[u,t.id]),C=(0,a.useMemo)((function(){return{animateShowLess:w,animateUndo:x}}),[w,x]);return a.createElement(s.Provider,{value:C},a.createElement("div",{className:m(d(f)),onTransitionEnd:N},n),a.createElement(r.T,{post:t,isVisible:h,hide:E}))}var u=function(){return(0,a.useContext)(s)}},67912:(e,n,t)=>{"use strict";t.d(n,{d:()=>a});var i=t(87329),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NegativeSignalModal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NegativeSignalModal_publisher"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isMuting"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NegativeSignalModal_publisher"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isMuting"}}]}}]}}]}}].concat((0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"NegativeSignalModal_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))}},47786:(e,n,t)=>{"use strict";t.d(n,{T:()=>x});var i=t(34699),a=t(67294),l=t(78964),o=t(78038),r=t(25550),d=t(61095),s=t(50474),c=t(77355),u=t(53563),m=t(18627),p=t(66411),v=t(75221),k=t(68894),f=t(87691),g=t(14646),b=t(24049);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},S.apply(this,arguments)}var h=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.3 9.5v5H2v-5h2.3zm1-.12v5.24l.1.08 7.6 5.78V3.52L5.4 9.3l-.1.08zm7.9-7.27L4.8 8.5H1.5A.5.5 0 0 0 1 9v6c0 .28.22.5.5.5h3.3l8.4 6.39c.33.25.8.02.8-.4V2.51a.5.5 0 0 0-.8-.4zm5.65 7.03a.5.5 0 0 0-.7.71L20.29 12l-2.14 2.15a.5.5 0 1 0 .7.7L21 12.72l2.15 2.15a.5.5 0 1 0 .7-.71L21.71 12l2.14-2.15a.5.5 0 1 0-.7-.7L21 11.28l-2.15-2.15z",fill:"currentColor"});const y=function(e){return a.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),h)};var E=function(e){return function(n){return{padding:"16px 24px",border:"none",cursor:"pointer",display:"flex","&:first-of-type":{paddingTop:"20px"},"&:last-of-type":{paddingBottom:"20px"},"&:not(:last-of-type)":{borderBottom:"1px solid ".concat(n.colorTokens.border.neutral.primary.base)},"& svg path":{fill:e?n.colorTokens.foreground.error.primary.base:n.colorTokens.foreground.neutral.secondary.base},":hover svg path":{fill:e?n.colorTokens.foreground.error.primary.hover:n.colorTokens.foreground.neutral.primary.base}}}};function N(e){var n=e.onClick,t=e.isReport,i=e.text,l=e.detail,o=(0,g.I)();return a.createElement("button",{className:o(E(t)),onClick:n},t?a.createElement(b.Z,null):a.createElement(y,null),a.createElement(c.x,{marginLeft:"24px",display:"flex",flexDirection:"column",gap:"4px",textAlign:"left"},a.createElement(f.F,{scale:"M",color:t?"ERROR":"DARKER",clamp:1},i),l&&a.createElement(f.F,{scale:"S",clamp:1},l)))}var w=t(97048);function x(e){var n,t,o=e.hide,c=e.isVisible,u=e.post,m=null!==(n=null===(t=u.creator)||void 0===t?void 0:t.id)&&void 0!==n?n:"",v=(0,d.Pd)({id:m}).viewerEdge,f=(0,r.r)().viewerId,g=(0,k.O)(!1),b=(0,i.Z)(g,3),S=b[0],h=b[1],y=b[2],E=(0,l.J)({viewerId:f,targetAuthorId:m,targetPostId:u.id,onOptimisticComplete:y}),N=(0,a.useCallback)((function(){h(),o()}),[o]);return a.createElement(a.Fragment,null,c&&a.createElement(p.cW,{source:{dimension:"negative_signal_modal"},extendSource:!0},a.createElement(C,{post:u,report:N,hide:o})),a.createElement(s.U,{isVisible:S,hide:y,type:"story",alreadyBlocking:!(null==v||!v.isBlocking),onSubmit:E}))}function C(e){var n=e.post,t=e.report,l=e.hide,o=(0,a.useState)(!1),r=(0,i.Z)(o,2),d=r[0],s=r[1],m=(0,w.e)(n.id),p=m.undo,k=m.showUndoToast,f=(0,a.useCallback)((function(){d&&(k(v.tG.SHOW_LESS),s(!1)),l()}),[d,l]),g=(0,a.useCallback)((function(){p(),s(!0)}),[p]);return a.createElement(u.u,{hide:f,title:"Got it, we'll recommend fewer like this",subtitleTextAlign:"center",subtitle:"You can always show more/less from a story’s “••• More” icon.",padding:"40px 32px 32px",subtitleMargin:"16px",confirmButtonStyle:"BRAND",confirmText:"Done",cancelText:"Undo",cancelButtonStyle:"SUBTLE",onCancel:g},a.createElement(c.x,{display:"flex",justifyContent:"center",marginBottom:"32px"},a.createElement(c.x,{width:"100%",maxWidth:"320px",display:"flex",flexDirection:"column",borderRadius:"8px",border:"neutral.primary"},n.creator&&!n.creator.viewerEdge.isMuting&&a.createElement(F,{publisher:n.creator,hide:l}),n.collection&&!n.collection.viewerEdge.isMuting&&a.createElement(F,{publisher:n.collection,hide:l}),a.createElement(N,{onClick:t,isReport:!0,text:"Report story..."}))))}function F(e){var n=e.publisher,t=e.hide,i=(0,m.A)(),l="User"===n.__typename,r=(0,o.l)(l?n.id:null,l?null:n.id),d=r.muteAuthor,s=r.mutePub,c=(0,a.useCallback)((function(){var e="".concat(n.__typename.toLowerCase(),".muted");i.event(e,{targetUserId:l?n.id:void 0,collectionId:l?void 0:n.id}),l?d():s(),t()}),[d,s,l,n]);return a.createElement(N,{onClick:c,text:"Mute ".concat(l?"author":"publication"),detail:n.name})}},97048:(e,n,t)=>{"use strict";t.d(n,{e:()=>y});var i=t(96156),a=t(34699),l=t(21919),o=t(64718),r=t(67294),d=t(25550),s=t(18627),c=t(66411),u=t(75221),m=t(78285),p=t(11462),v=t(5351),k=t(87329),f=t(67912),g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExplicitSignalPostQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NegativeSignalModal_post"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"explicitSignalState"}}]}}]}}]}}].concat((0,k.Z)(f.d.definitions))},b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ExplicitSignalMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"signal"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ExplicitUserSignal"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendExplicitSignal"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"signal"},value:{kind:"Variable",name:{kind:"Name",value:"signal"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function y(e,n){var t,i,k=(0,s.A)(),f=(0,c.Lk)()||{},S=(0,d.r)().viewerId,y=(0,m.w)(),E=(0,v.w)().animateUndo,N=(0,l.D)(b),w=(0,a.Z)(N,1)[0],x=(0,o.a)(g,{variables:{id:e},fetchPolicy:n}),C=x.data,F=x.loading,O=null==C||null===(t=C.post)||void 0===t||null===(i=t.viewerEdge)||void 0===i?void 0:i.explicitSignalState,P=(0,r.useCallback)((function(n){w({variables:{postId:e,signal:n},update:function(t){S&&t.modify({id:"PostViewerEdge:".concat((0,p.Q)(e,S)),fields:{explicitSignalState:function(){return n===u.tG.CLEAR_SIGNAL?null:n}}})}})}),[w,e,S]),I=(0,r.useCallback)((function(n){var t=n.name,i=n.data,a=n.dimension;return k.event(t,h({postId:e,source:a?(0,c.f0)(h(h({},f),{},{dimension:a})):(0,c.f0)(f)},i))}),[e,f]),D=(0,r.useCallback)((function(e){var n=O===u.tG.SHOW_MORE;P(u.tG.CLEAR_SIGNAL),I({name:"post.see_".concat(n?"more":"less",".undo"),dimension:e}),n?A(u.tG.SHOW_MORE):null==E||E()}),[e,O,E]),T=(0,r.useCallback)((function(){P(u.tG.SHOW_MORE),I({name:"post.see_more"})}),[I,P]),R=(0,r.useCallback)((function(){P(u.tG.SHOW_LESS),I({name:"post.see_less",data:{mutationSent:!0}})}),[I,P]),A=(0,r.useCallback)((function(e){y({message:"Undone. We won’t recommend ".concat(e===u.tG.SHOW_LESS?"fewer":"more"," stories like this."),extraParams:{hideCloseButton:!0}})}),[]),V=(0,r.useCallback)((function(){y({toastStyle:"USER_POSITIVE_SIGNAL",extraParams:{onClickUndo:function(){return D("toast")}}})}),[y,D]);return{loading:F,undo:D,showMore:T,showLess:R,explicitSignal:O,showUndoToast:A,showMoreToast:V}}},45700:(e,n,t)=>{"use strict";t.d(n,{c:()=>An});var i=t(96156),a=t(22122),l=t(81253),o=t(67294),r=t(34699),d=t(48403),s=t.n(d),c=t(64718),u=t(14045),m=t(38352),p=t(93310),v=t(77355),k=t(18634);function f(e){var n=e.onClick,t=e.hidePopover,i=e.showAt,a=e.bookmarkIcon,l=(0,o.useCallback)((function(){t(),n()}),[n,t]);return o.createElement(k.y,{xs:i.xs,sm:i.sm,md:i.md,lg:i.lg,xl:i.xl},o.createElement(m.Sl,null,o.createElement(p.r,{"aria-controls":"aria-id","aria-expanded":"false",onClick:l},o.createElement(v.x,{display:"flex",flexDirection:"row",alignItems:"center",ariaHidden:"true",gap:"12px"},a,"Save"))),o.createElement(m.oK,null))}var g=t(38356),b=t(42130),S=["isResponsive"],h=function(e){var n=e.isResponsive,t=(0,l.Z)(e,S);return o.createElement(g.u,(0,a.Z)({text:n?"More":void 0,icon:o.createElement(b.Z,null)},t))},y=t(86706),E=t(13195),N=t(6443),w=t(39507),x=t(83486),C=t(43487),F=t(51681),O=function(e){var n=e.post,t=e.hidePopover,i=(0,N.H)().value,a=null==i?void 0:i.id,l=(0,w.T)(n).viewerEdge,r=(0,y.I0)(),d=o.useCallback((function(e){return r((0,x.at)(e))}),[r]),s=(0,C.b$)((function(e){return e.multiVote.clapsPerPost})),c=(0,F.l)(s,n,l),u=c.clapCount,v=c.viewerClapCount,k=(0,E.C)();return a&&u&&v&&v>0?o.createElement(o.Fragment,null,o.createElement(m.Sl,null,o.createElement(p.r,{onClick:function(){k(n,(null==i?void 0:i.id)||"",-v,l),d({postId:n.id,clapCount:u-v,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),t()}},"Undo claps")),o.createElement(m.oK,null)):null},P=t(23768),I=t(32947),D=t(70028),T=t(66021),R=t(90833),A=t(70679),V=t(87691),_=t(14646),M=t(50458),j={cursor:"not-allowed",marginBottom:"8px",opacity:.5},L=function(e){var n=e.post,t=e.shareKey,i=(0,_.I)();return n&&t?o.createElement(m.Sl,null,o.createElement(v.x,{width:"174px"},o.createElement("div",{className:i(j)},"Copy Friend Link"),o.createElement(V.F,{scale:"S",color:"LIGHTER"},'Friend links have moved to the "Share" menu.  ',o.createElement(p.r,{linkStyle:"OBVIOUS",inline:!0,href:(0,M.wA)()},"Learn more")))):null},B=t(32493),Z=t(78285),U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostAllowResponsesMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowResponses"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setPostAllowResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"allowResponses"},value:{kind:"Variable",name:{kind:"Name",value:"allowResponses"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}}]}}]}}]},H=(0,y.$j)()((function(e){var n=e.children,t=e.dispatch,i=e.onCompleted,a=e.targetPostId;return o.createElement(B.m,{mutation:U,onCompleted:function(){t((0,Z.Dx)({message:"Responses are now hidden for this post."})),i&&i()},variables:{targetPostId:a,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:a,allowResponses:!1}}},(function(e){return n({mutate:e})}))})),z=(0,y.$j)()((function(e){var n=e.children,t=e.dispatch,i=e.onCompleted,a=e.targetPostId;return o.createElement(B.m,{mutation:U,onCompleted:function(){t((0,Z.Dx)({message:"Responses are now shown for this post."})),i&&i()},variables:{targetPostId:a,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:a,allowResponses:!0}}},(function(e){return n({mutate:e})}))})),G=t(75675),K=t(68894),W=function(e){var n=e.hidePopover,t=e.postId,i=e.allowResponses,a=(0,K.O)(!1),l=(0,r.Z)(a,3),d=l[0],s=l[1],c=l[2],u=function(){c(),n()};return o.createElement(o.Fragment,null,o.createElement(H,{targetPostId:t},(function(e){var n=e.mutate;return o.createElement(G.w,{onConfirm:n,isVisible:d,hide:u,entityTypename:"Post"})})),o.createElement(z,{targetPostId:t},(function(e){var n=e.mutate;return o.createElement(m.Sl,null,o.createElement(p.r,{onClick:function(){i?s():n()}},i?"Hide responses":"Show responses"))})))},Y=t(75412),q=t(71652),Q=t(87329),J=t(84683),X={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionSubmissionOption_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}}].concat((0,Q.Z)(J.d.definitions))},$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionSubmissionPopoverQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"writerCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionOption_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"adminCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionOption_collection"}}]}}]}}]}}].concat((0,Q.Z)(X.definitions))},ee=t(21919),ne=t(75221),te=[{kind:"FragmentDefinition",name:{kind:"Name",value:"ManageCollectionPostStatus_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}],ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ManageCollectionPostStatusMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CollectionPostStatus"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"manageCollectionPostStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"collectionSlug"},value:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageCollectionPostStatus_collection"}}]}}]}}]}}].concat((0,Q.Z)(te))},ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RejectPostFromPubMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CollectionPostStatus"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"manageCollectionPostStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"collectionSlug"},value:{kind:"Variable",name:{kind:"Name",value:"collectionSlug"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageCollectionPostStatus_collection"}}]}}]}}]}}].concat((0,Q.Z)(te))},le=function(e){var n=(0,ee.D)(ie),t=(0,r.Z)(n,1)[0];return(0,o.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:ne.Zj.APPROVED}})}),[e])},oe=function(e){var n=(0,ee.D)(ae),t=(0,r.Z)(n,1)[0];return(0,o.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:ne.Zj.REMOVED},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:null,collection:null,pendingCollection:null}}}).then((function(e){if(e.errors&&e.errors[0])throw e.errors[0];return e}))}),[e])},re=t(25267),de=t(91583),se=t(47230),ce=t(66227),ue=t(73917),me=t(70310),pe=t(20113),ve=t(90586),ke=t(34135),fe="collectionSubmissionPopover",ge=[{name:"",value:"No publication",content:o.createElement(v.x,{height:"32px",display:"flex",alignItems:"center",marginLeft:"5px"},o.createElement(V.F,{scale:"M",color:"DARKER"},"No publication"))}];function be(e){var n=e.collection;return n.name?o.createElement(v.x,{display:"flex",justifyContent:"space-between",width:"200px",alignItems:"center",marginLeft:"5px"},o.createElement(V.F,{scale:"M",color:"DARKER"},n.name),o.createElement(q.v,{collection:n,size:32})):null}function Se(e){var n=e.show,t=e.post,i=t.statusForCollection,a=t.isPublished,l=o.useState(!1),d=(0,r.Z)(l,2),s=d[0],c=d[1];return s||ke.V6.on("load",(function(){return c(!0)})),!i&&a&&s?o.createElement(ye,{post:t,noQueryReturn:null},(function(e){var i=e.loading,a=e.error,l=e.data;if(i||a)return null;var r=(void 0===l?{viewer:void 0}:l).viewer,d=t.creator;if(!r||!d||r.id!==d.id)return null;var s=r.adminCollections,c=r.writerCollections;return 0===s.length&&0===c.length?null:o.createElement(m.Sl,null,o.createElement(p.r,{"aria-controls":fe,"aria-expanded":"false",onClick:n},"Add to publication"))})):null}function he(e){var n=e.isVisible,t=e.hide;return o.createElement(de.V,{isVisible:n,hide:t,withCloseButton:!0},o.createElement(v.x,{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"480px"},o.createElement(pe.X6,{scale:"M",tag:"h3"},"Story submitted"),o.createElement(v.x,{paddingTop:"8px",paddingBottom:"24px"},o.createElement(ve.QE,{scale:"M"},"We’ll email you when the publication editor has reviewed your submission.")),o.createElement(se.zx,{buttonStyle:"OBVIOUS",onClick:t},"OK")))}var ye=function(e){var n=e.children,t=e.post,i=e.noQueryReturn,a=t.creator;return a?o.createElement(re.I,null,(function(e){return e?e.id!==a.id?i:o.createElement(Y.A,{query:$,ssr:!1},(function(e){var t=e.loading,i=e.error,a=e.data;return n({loading:t,error:i,data:a})})):i})):i},Ee=function(e){var n=e.post,t=e.hide,i=e.showLoadingIndicator,a=e.isVisible,l=e.children,d=o.useState(!1),s=(0,r.Z)(d,2),c=s[0],u=s[1],m=o.useState(""),k=(0,r.Z)(m,2),f=k[0],g=k[1],b=le(n),S=function(e){var n=(0,ee.D)(ie),t=(0,r.Z)(n,1)[0];return(0,o.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:ne.Zj.PENDING},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:ne.Zj.PENDING,pendingCollection:n}}})}),[e])}(n);return c||ke.V6.on("load",(function(){return u(!0)})),n.isPublished&&c?o.createElement(ce.B,null,(function(e){var r=e.isVisible,d=e.hide,s=e.show;return o.createElement(o.Fragment,null,o.createElement(he,{hide:d,isVisible:r}),o.createElement(ye,{post:n,noQueryReturn:l},(function(e){var r=e.loading,d=e.error,c=e.data;if(r||d)return l;var u=(void 0===c?{viewer:void 0}:c).viewer,m=n.creator;if(!u||!m||u.id!==m.id)return l;var k=u.adminCollections,h=u.writerCollections;if(0===k.length&&0===h.length)return l;var y=k.concat(h).filter((function(e){return!!e&&!!e.slug&&!!e.name})).map((function(e){return{name:e.slug||"",value:e.name||"",content:o.createElement(be,{collection:e})}})),E=ge.concat(y),N=k.reduce((function(e,n){return e[n.slug||""]=n,e}),{}),w=h.reduce((function(e,n){return e[n.slug||""]=n,e}),{}),x="";if(f){var C=E.find((function(e){return e.name===f}));C&&(x=C.value)}var F="addStoryToPublicationTitle";return o.createElement(ue.J,{ariaId:fe,hide:t,isVisible:a,popoverRenderFn:function(){return o.createElement(v.x,{padding:"20px",width:"280px",display:"flex",flexDirection:"column"},o.createElement(V.F,{scale:"M",color:"DARKER",ariaLabelledById:F},"Add your story to a publication:"),o.createElement(v.x,{marginTop:"10px",position:"relative"},o.createElement(v.x,{position:"absolute",height:"16px",width:"100%",bottom:"0",zIndex:"100",backgroundImage:"linear-gradient(transparent, #ffffff)"}),o.createElement(v.x,{maxHeight:"160px",overflow:"auto"},o.createElement(me.E,{value:x,onChange:g,options:E,radioButtonsName:"addStory",ariaLabelledBy:F}))),o.createElement(v.x,{display:"flex",marginTop:"20px"},f in N?o.createElement(se.zx,{onClick:function(){var e=N[f];t(),i(),b(e).then((function(){window.location.reload()}))},buttonStyle:"OBVIOUS"},"Add story"):o.createElement(se.zx,{onClick:function(){var e=w[f];S(e),t(),s()},disabled:!f},"Submit"),o.createElement(v.x,{marginLeft:"10px"},o.createElement(V.F,{scale:"M",color:"LIGHTER"},o.createElement(p.r,{onClick:t},o.createElement(v.x,{padding:"10px"},"Cancel"))))),o.createElement(v.x,{marginTop:"10px"},o.createElement(V.F,{scale:"M"},"This story will be automatically submitted to the publication. When you submit your story, the publication's editors will be notified and will be able to edit your story.")))}},l)})))})):l},Ne=function(e){var n=e.children,t=e.isVisible,i=e.post,a=e.hide,l=e.showLoadingIndicator,r=le(i),d=oe(i),s=(0,y.I0)(),c=i.pendingCollection;return c?o.createElement(ue.J,{ariaId:"manageSubmissionPopover",isVisible:t,hide:a,popoverRenderFn:function(){return o.createElement(v.x,{padding:"16px",maxWidth:"280px"},o.createElement(v.x,{display:"flex",flexDirection:"row",alignItems:"center"},o.createElement(v.x,{paddingRight:"8px"},o.createElement(q.v,{collection:c,size:40})),o.createElement(V.F,{scale:"S"},"This draft is submitted to ",c.name,".")),o.createElement(v.x,{flexDirection:"row",display:"flex",paddingTop:"16px"},o.createElement(v.x,{paddingRight:"8px"},o.createElement(se.zx,{buttonStyle:"OBVIOUS",onClick:function(){a(),l(),r(i.pendingCollection).then((function(){window.location.reload()}))}},"Accept")),o.createElement(se.zx,{buttonStyle:"SUBTLE",onClick:function(){d(i.pendingCollection).then((function(){s((0,Z.Dx)({message:"Story removed from ".concat(c.name||"publication")}))})),a()}},"Don't accept")))}},n):n},we=function(e,n){return n&&e.creator&&n.id===e.creator.id},xe=t(39727),Ce="removeFromPublicationPopover",Fe=function(e){var n=e.viewer,t=e.show,i=e.post,a=(0,xe.g)(i.pendingCollection||i.collection).viewerEdge,l=null==a?void 0:a.isEditor;return n&&("APPROVED"===i.statusForCollection&&(l||function(e,n){var t=e.pendingCollection||e.collection;return t&&t.creator&&n.id===t.creator.id}(i,n)||we(i,n))||"PENDING"===i.statusForCollection&&we(i,n))?o.createElement(m.Sl,null,o.createElement(p.r,{"aria-controls":Ce,"aria-expanded":"false",onClick:t},"Remove story from publication")):null},Oe=function(e){var n=e.children,t=e.isVisible,i=e.hide,a=e.post,l=e.viewer,r=(0,y.I0)(),d=oe(a),s=a.collection||a.pendingCollection;return s?o.createElement(ue.J,{ariaId:Ce,isVisible:t,hide:i,popoverRenderFn:function(){return o.createElement(v.x,{padding:"16px",maxWidth:"280px"},o.createElement(v.x,{display:"flex",flexDirection:"row",alignItems:"center"},o.createElement(v.x,{paddingRight:"8px"},o.createElement(q.v,{collection:s,size:40})),"APPROVED"===a.statusForCollection?o.createElement(V.F,{scale:"S"},we(a,l)?"Your":"This"," story is published in"," ",s.name,"."):"PENDING"===a.statusForCollection?o.createElement(V.F,{scale:"S"},"Your story is being reviewed by ",s.name," editors."):o.createElement(V.F,{scale:"S"},"This draft is submitted to ",s.name)),o.createElement(v.x,{flexDirection:"row",display:"flex",paddingTop:"16px"},o.createElement(v.x,{paddingRight:"8px"},o.createElement(se.zx,{buttonStyle:"SUBTLE",onClick:function(){d(s).then((function(){r((0,Z.Dx)({message:"Story removed from ".concat(s.name||"publication")}))}),(function(){r((0,Z.Dx)({message:"There was a problem removing the story from ".concat(s.name||"publication"),toastStyle:"ERROR"}))})),i()}},"PENDING"===a.statusForCollection?"Cancel submission":"Remove from ".concat(s.name||"")))))}},n):n},Pe=t(43220),Ie=t(31048),De=t(74302),Te=t(44573),Re=t(26350),Ae=t(96462),Ve=t(45509),_e=t(61095),Me=t(50474),je=t(78964),Le=function(e){var n=e.hidePopover,t=e.targetUserId,i=e.postId,a=e.viewerId,l=(0,_e.Pd)({id:t}).viewerEdge,d=!(null==l||!l.isBlocking),s=(0,K.O)(!1),c=(0,r.Z)(s,3),u=c[0],v=c[1],k=c[2],f=(0,o.useCallback)((function(){k(),n()}),[n,k]),g=(0,je.J)({viewerId:a,targetAuthorId:t,targetPostId:i,onOptimisticComplete:f});return o.createElement(o.Fragment,null,o.createElement(Me.U,{onSubmit:g,isVisible:u,hide:f,type:"story",alreadyBlocking:d}),o.createElement(m.Sl,null,o.createElement(p.r,{onClick:v,color:"RED"},"Report story...")))},Be=t(1383),Ze=t(92661),Ue=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(){for(var e=0,t=n;e<t.length;e++)(0,t[e])()}},He=t(92001),ze=t(93647),Ge=t(36736),Ke=t(91727),We=t(38487),Ye=t(57477),qe={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_creator"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MutePopoverOptions_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBase_post"}}]}}].concat((0,Q.Z)(He.m.definitions),(0,Q.Z)(ze.C.definitions),(0,Q.Z)(He.G.definitions),(0,Q.Z)(Ge.x.definitions),(0,Q.Z)(Ke.S.definitions),(0,Q.Z)(We.g.definitions),(0,Q.Z)(Ye._C.definitions))},Qe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorActionOverflowPopoverQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorActionOverflowPopover_post"}}]}}]}}].concat((0,Q.Z)(qe.definitions))};function Je(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Je(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Je(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var $e=function(e){var n=(0,c.a)(Qe,{variables:{postId:e.post.id}}).data;if(null==n||!n.post)return null;var t=Xe(Xe({},e),{},{post:n.post});return o.createElement(en,t)},en=function(e){var n,t,i=e.post,l=e.showLoadingIndicator,d=e.hideUndoApplause,c=void 0!==d&&d,k=e.isResponsive,g=e.popoverPositioningStrategy,b=e.hideOnScroll,S=e.testId,y=e.prependMenuItems,E=e.rules,x=e.showAddToList,F=i.creator,V=i.collection,_=o.useState(!1),j=(0,r.Z)(_,2),B=j[0],U=j[1],H=o.useState(!1),z=(0,r.Z)(H,2),G=z[0],Y=z[1],q=o.useState(!1),Q=(0,r.Z)(q,2),J=Q[0],X=Q[1],$=i.allowResponses,ee=i.pendingCollection,te=i.mediumUrl,ie=i.visibility,ae=(0,xe.g)(V).viewerEdge,le=(0,xe.g)(ee).viewerEdge,oe=(0,w.T)(i).viewerEdge,re=(0,Z.w)(),de=(0,N.H)().value,se=null==de?void 0:de.id,ce=i.responseDistribution===ne.Et.DISTRIBUTED,me=!!i.inResponseToPostResult||!!i.inResponseToCatalogResult,pe=me?"response":"story",ve=(0,Ie.K)(i),ke=(0,r.Z)(ve,2),fe=ke[0],ge=ke[1],be=(0,Pe.U)(i.collection),he=(0,Pe.U)(i.creator),ye=o.useCallback((function(e){var n,t,a;re({extraParams:{collectionName:(null===(n=i.collection)||void 0===n?void 0:n.name)||"",becamePinned:!(null===(t=e.data)||void 0===t||null===(a=t.setPinnedAt)||void 0===a||!a.pinnedAt)},toastStyle:"POST_PINNED_TO_COLLECTION_HOMEPAGE"})}),[null===(n=i.collection)||void 0===n?void 0:n.name]),we=o.useCallback((function(e,n){var t;"MutationSuccess"===(null===(t=e.data)||void 0===t?void 0:t.setPostPinnedOnCreatorProfile.__typename)&&re({message:"This ".concat(pe,n?" has been unpinned from your profile's homepage":" has been pinned to your profile's homepage")})}),[]),Ce=o.useCallback((function(){ge().then(ye)}),[ge,ye,null==i||null===(t=i.collection)||void 0===t?void 0:t.name]),_e=(0,Ie.I)(i),Me=(0,r.Z)(_e,2),je=Me[0],He=Me[1],ze=o.useCallback((function(){He().then((function(e){return we(e,je)}))}),[He,we]),Ge=(0,C.v9)((function(e){return e.config.authDomain})),Ke=o.useState(!1),We=(0,r.Z)(Ke,2),Ye=We[0],qe=We[1],Qe=(0,K.O)(!1),Je=(0,r.Z)(Qe,3),Xe=Je[0],$e=Je[1],en=Je[2],nn=(0,K.O)(!1),tn=(0,r.Z)(nn,4),an=tn[0],ln=tn[2],on=tn[3],rn=(0,D.j)(i.id),dn=(0,r.Z)(rn,1)[0],sn=(0,K.O)(!1),cn=(0,r.Z)(sn,3),un=cn[0],mn=cn[1],pn=cn[2],vn=(0,Ze.qt)("ShowHome",{}),kn=o.useCallback((function(){dn().then((function(){window.location.assign(vn)}))}),[dn,vn]),fn="Delete story";ce?fn="Delete story and response":me&&(fn="Delete response");var gn=ce?De.Q:o.createElement(u.M,{entityName:pe}),bn=(0,Te.P5)("can_edit_members_only_posts");if(!F||!de)return null;var Sn=se===F.id,hn=(null==ae?void 0:ae.isEditor)||(null==le?void 0:le.isEditor),yn=Sn||hn,En=bn&&i&&i.isLocked,Nn=yn||En,wn="creatorActionOverflowMenu",xn="LOCKED"===ie,Cn=hn&&!Sn||!yn,Fn=!me||ce,On=function(){ce&&(ln(),$e())};if(Ye)return o.createElement(R.l,{to:(0,M.d0)(Ge,i.id)});var Pn={kind:ne.ej.POST,target:i};return o.createElement(o.Fragment,null,o.createElement(Be.Q,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:Xe,onConfirm:function(){qe(!0)},hide:en,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},De.t),o.createElement(Be.Q,{buttonStyle:"ERROR",cancelText:"Cancel",isVisible:un,onConfirm:kn,hide:pn,titleText:fn,confirmText:"Delete",isDestructiveAction:!0},gn),o.createElement(P.a,(0,a.Z)({},Pn,{viewer:de}),(function(e){var n=e.onClick,t=e.bookmarkIcon;return o.createElement(ue.J,{targetDistance:10,ariaId:wn,isVisible:an,hide:ln,positioningStrategy:g,hideOnScroll:b,popoverRenderFn:function(){return o.createElement(m.mX,null,y&&o.createElement(o.Fragment,null,y(ln)),yn&&x&&o.createElement(f,{showAt:x,onClick:n,hidePopover:ln,bookmarkIcon:t}),o.createElement(o.Fragment,null,o.createElement(I.l,{type:"popover",handleClick:On,href:(0,M.d0)(Ge,i.id),isVisible:!!Nn},"Edit ",pe),V&&hn&&be&&Fn&&o.createElement(m.Sl,null,o.createElement(p.r,{onClick:Ce},fe?"Unpin this ".concat(pe," from "):"Pin this ".concat(pe," to "),V.name)),Sn&&he&&Fn&&o.createElement(m.Sl,null,o.createElement(p.r,{onClick:ze},je?"Unpin this ".concat(pe," from your profile"):"Pin this ".concat(pe," to your profile"))),o.createElement(A.w,{post:i,onClick:ln,menuStyle:"TEXT"}),yn?o.createElement(o.Fragment,null,o.createElement(m.oK,null),o.createElement(m.Sl,null,o.createElement(p.r,{href:(0,M.KI)(Ge,i.id)},s()(pe)," settings"))):null,yn&&o.createElement(m.Sl,null,o.createElement(p.r,{href:(0,M.T0)(Ge,i.id)},s()(pe)," stats")),yn&&xn&&te&&(null==oe?void 0:oe.shareKey)&&o.createElement(L,{post:i,shareKey:null==oe?void 0:oe.shareKey}),yn&&o.createElement(m.oK,null),yn?o.createElement(o.Fragment,null,o.createElement(W,{hidePopover:ln,postId:i.id,allowResponses:$}),o.createElement(Se,{post:i,show:function(){Y(!0),ln()}}),o.createElement(Fe,{viewer:de,post:i,show:function(){X(!0),ln()}}),Sn&&o.createElement(m.Sl,null,o.createElement(p.r,{onClick:Ue(ln,mn),color:"RED"},"Delete ",pe))):null,Cn?o.createElement(o.Fragment,null,hn&&o.createElement(m.oK,null),!c&&o.createElement(O,{post:i,hidePopover:ln}),o.createElement(o.Fragment,null,se?o.createElement(Le,{targetUserId:F.id,postId:i.id,hidePopover:ln,viewerId:se}):o.createElement(m.Sl,null,o.createElement(Re.R,{operation:"register",post:i,susiEntry:"report_footer"},"Report this ",pe))),o.createElement(T.q,{hidePopover:ln,creator:F,collection:V,postId:i.id}),o.createElement(Ae.F,{hidePopover:ln,creator:F,viewer:de}),o.createElement(Ve.j,{hidePopover:ln,creator:F,viewer:de})):null))}},o.createElement(Ee,{post:i,isVisible:G,hide:function(){Y(!1)},showLoadingIndicator:l},o.createElement(Oe,{viewer:de,post:i,isVisible:J,hide:function(){X(!1)}},o.createElement(Ne,{post:i,isVisible:B,hide:function(){U(!1)},showLoadingIndicator:l},o.createElement(v.x,{flexGrow:"0",marginRight:"-4px"},o.createElement(h,{ariaControls:wn,ariaExpanded:an?"true":"false",ariaLabel:"More options",onClick:function(){B?U(!1):G?Y(!1):on()},isResponsive:k,tooltipText:"More",testId:S,rules:E}))))))})))},nn=t(8751),tn=t(17417),an=t(25735);function ln(){return ln=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ln.apply(this,arguments)}var on=o.createElement("path",{d:"M6.2 16.8A7.5 7.5 0 1 0 16.8 6.2 7.5 7.5 0 0 0 6.2 16.8z",stroke:"#000",strokeWidth:2,strokeLinecap:"round"}),rn=o.createElement("path",{d:"M6 6l11 11",stroke:"#000",strokeWidth:2});const dn=function(e){return o.createElement("svg",ln({width:19,height:19,viewBox:"0 0 23 23",fill:"none"},e),on,rn)};var sn=t(69920);function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},cn.apply(this,arguments)}var un=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12a10 10 0 1 1-20 0 10 10 0 0 1 20 0zm-13.75-.5a.5.5 0 0 0 0 1h7.5a.5.5 0 0 0 0-1h-7.5z",fill:"currentColor"});const mn=function(e){return o.createElement("svg",cn({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),un)};function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pn.apply(this,arguments)}var vn=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12a10 10 0 1 1-20 0 10 10 0 0 1 20 0zM12 7.75c.28 0 .5.22.5.5v3.25h3.25a.5.5 0 0 1 0 1H12.5v3.25a.5.5 0 0 1-1 0V12.5H8.25a.5.5 0 0 1 0-1h3.25V8.25c0-.28.22-.5.5-.5z",fill:"currentColor"});const kn=function(e){return o.createElement("svg",pn({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),vn)};function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},fn.apply(this,arguments)}var gn=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18zm10-9a10 10 0 1 1-20 0 10 10 0 0 1 20 0zM7.75 12c0-.28.22-.5.5-.5h3.25V8.25a.5.5 0 0 1 1 0v3.25h3.25a.5.5 0 0 1 0 1H12.5v3.25a.5.5 0 0 1-1 0V12.5H8.25a.5.5 0 0 1-.5-.5z",fill:"currentColor"});const bn=function(e){return o.createElement("svg",fn({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),gn)};var Sn=t(5351),hn=t(47786),yn=t(97048),En={pointerEvents:"none"};function Nn(e){var n=e.hidePopover,t=e.post,i=(0,K.O)(!1),a=(0,r.Z)(i,3),l=a[0],d=a[1],s=a[2],c=(0,yn.e)(t.id),u=c.loading,p=c.showMore,v=c.showLess,k=c.explicitSignal,f=c.undo,g=c.showUndoToast,b=c.showMoreToast,S=(0,Sn.w)(),h=S.animateShowLess,y=S.animateUndo,E=k===ne.tG.SHOW_MORE,N=k===ne.tG.SHOW_LESS,w=(0,o.useCallback)((function(){E?f():(p(),b()),n()}),[p,n,E,f,b]),x=(0,o.useCallback)((function(){N?(f(),g(ne.tG.SHOW_LESS),n(),null==y||y()):(v(),h?(n(),h()):d())}),[v,n,N,f,g,h,y]),C=(0,o.useCallback)((function(){n(),s()}),[n,s]);return o.createElement(o.Fragment,null,o.createElement(wn,{value:ne.tG.SHOW_MORE,onClick:w,isSelected:E,loading:u}),o.createElement(wn,{value:ne.tG.SHOW_LESS,onClick:x,isSelected:N,loading:u}),o.createElement(m.oK,null),o.createElement(hn.T,{isVisible:l,hide:C,post:t}))}var wn=function(e){var n=e.value,t=e.onClick,i=e.isSelected,a=e.loading;return o.createElement(m.Sl,{loading:a},o.createElement(p.r,{onClick:t,disabled:a,rules:a?En:void 0},o.createElement(v.x,{display:"flex"},o.createElement(v.x,{marginRight:"12px",flexShrink:"0"},o.createElement(xn,{value:n,isSelected:i})),o.createElement(v.x,{display:"flex",flexDirection:"column",marginTop:"2px",gap:"4px",textAlign:"left"},i?"Undo show ":"Show ",n===ne.tG.SHOW_MORE?"more":"less",o.createElement(V.F,{scale:"S"},i?"Undo recommending ":"Recommend ",n===ne.tG.SHOW_MORE?"more":"fewer"," stories like this to me.")))))};function xn(e){var n=e.isSelected;return e.value===ne.tG.SHOW_MORE?n?o.createElement(kn,null):o.createElement(bn,null):n?o.createElement(mn,null):o.createElement(sn.Z,null)}var Cn=t(17778),Fn=t(18627),On=t(66411);function Pn(e){var n=e.author,t=e.collection,i=e.hidePopover,a=(0,Fn.A)(),l=(0,_e.Pd)(n).viewerEdge,r=(0,xe.g)(t).viewerEdge,d=(null==n?void 0:n.id)||"",s=(null==t?void 0:t.id)||"",c=null==l?void 0:l.isFollowing,u=null==r?void 0:r.isFollowing,v=(0,Cn.l)(d,s),k=v.followUser,f=v.unfollowUser,g=v.followCollection,b=v.unfollowCollection,S=(0,On.pK)(),h=(0,N.H)().value,y=h&&d===h.id,E=(0,o.useCallback)((function(){a.event("user.".concat(c?"unfollowed":"followed"),{followSource:S,targetUserId:d}),c?f():k(),null==i||i()}),[d,c,k,f,i,S]),w=(0,o.useCallback)((function(){a.event("collection.".concat(u?"unfollowed":"followed"),{followSource:S,collectionId:s}),u?b():g(),null==i||i()}),[s,u,g,i,S,b]);return h?o.createElement(o.Fragment,null,!!n&&!y&&o.createElement(m.Sl,null,o.createElement(p.r,{onClick:E},c?"Unfollow":"Follow"," author")),!!t&&!(null!=r&&r.isEditor)&&o.createElement(m.Sl,null,o.createElement(p.r,{onClick:w},u?"Unfollow":"Follow"," publication"))):null}var In=t(42732);function Dn(e){var n=e.post,t=e.setDismissedPostId,i=e.isResponsive,l=e.hideNegativeSignalItem,d=e.popoverPositioningStrategy,s=e.viewer,c=e.hideOnScroll,u=e.testId,k=e.prependMenuItems,g=e.rules,b=e.showAddToList,S=e.onButtonClick,y=n.id,E=n.creator,N=n.collection,w=(0,K.O)(!1),x=(0,r.Z)(w,4),C=x[0],F=x[2],I=x[3],D=(0,an.V)({name:"enable_explicit_signals",placeholder:!1}),R=(0,o.useCallback)((function(){null==S||S(),I()}),[I,S]),A=(0,In.c)({post:n,onShowLess:F,setDismissedPostId:t}).handleShowLess,V={kind:ne.ej.POST,target:n},_=(0,o.useCallback)((function(e,t){return o.createElement(m.mX,{width:D&&!l?"248px":void 0},k&&o.createElement(o.Fragment,null,k(F)),b&&o.createElement(f,{showAt:b,onClick:e,hidePopover:F,bookmarkIcon:t}),!l&&(D?o.createElement(Nn,{hidePopover:F,post:n}):o.createElement(v.x,{borderBottom:"neutral.primary",paddingBottom:"4px",marginBottom:"4px"},o.createElement(m.Sl,null,o.createElement(p.r,{onClick:A,"aria-label":"Show less like this"},o.createElement(v.x,{display:"flex",flexDirection:"row",alignItems:"center",borderBottom:void 0,ariaHidden:"true"},o.createElement(v.x,{marginRight:"4px"},o.createElement(dn,null)),o.createElement(v.x,null,"Show less like this")))))),o.createElement(O,{post:n,hidePopover:F}),o.createElement(Pn,{author:E,collection:N,hidePopover:F}),o.createElement(m.oK,null),o.createElement(T.q,{creator:E,collection:N,hidePopover:F,postId:y}),o.createElement(Le,{postId:y,viewerId:null==s?void 0:s.id,targetUserId:(null==E?void 0:E.id)||"",hidePopover:F}))}),[D,k,b]);return null!=E&&E.id?o.createElement(P.a,(0,a.Z)({},V,{viewer:s}),(function(e){var n=e.onClick,t=e.bookmarkIcon;return o.createElement(ue.J,{isVisible:C,positioningStrategy:d,targetDistance:10,hide:F,popoverRenderFn:function(){return _(n,t)},hideOnScroll:c},o.createElement(h,{onClick:R,ariaLabel:"More options",isResponsive:i,tooltipText:"More",testId:u,rules:g}))})):null}var Tn=["post","setDismissedPostId","hideNegativeSignalItem","showExplicitSignalTooltip","showAddToList"];function Rn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function An(e){var n=e.post,t=e.setDismissedPostId,r=e.hideNegativeSignalItem,d=e.showExplicitSignalTooltip,s=e.showAddToList,c=(0,l.Z)(e,Tn),u=n.creator,m=n.collection,p=n.visibility,v=(0,N.H)(),k=v.loading,f=v.value,g=(0,xe.g)(m).viewerEdge,b=!k&&!!f,S=!(null==g||!g.isEditor),h=(null==f?void 0:f.id)===(null==u?void 0:u.id),y=p===ne.Wn.UNLISTED?void 0:s;if(!u||!b)return null;if(S||h)return o.createElement(ce.B,null,(function(e){var t=e.show;return o.createElement($e,(0,a.Z)({post:n,showLoadingIndicator:t,showAddToList:y},c))}));var E=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rn(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({post:n,setDismissedPostId:t,hideNegativeSignalItem:r,viewer:f,showAddToList:y},c);return d?o.createElement(Vn,E):o.createElement(Dn,E)}function Vn(e){var n=function(e){var n,t=(0,N.H)().value,i=(0,o.useState)(!(null==t||!t.dismissableFlags.includes(e))),a=(0,r.Z)(i,2),l=a[0],d=a[1],s=(0,ee.D)(nn.a,{variables:{userId:null!==(n=null==t?void 0:t.id)&&void 0!==n?n:"",flag:e}}),c=(0,r.Z)(s,1)[0];return{isDismissed:l,dismiss:(0,o.useCallback)((function(){d(!0),c()}),[c])}}(ne.T3.SAVE_TO_LIST_FROM_MORE_MENU_TOOLTIP),t=n.isDismissed,i=n.dismiss;return o.createElement(tn.A,{isVisible:!t,message:"Looking to save a story? You can now save from the “••• More” menu.",dismissText:"Okay, got it",dismiss:i,boxProps:{maxWidth:"200px"},positioningStrategy:"fixed"},o.createElement(Dn,(0,a.Z)({onButtonClick:i},e)))}},38487:(e,n,t)=>{"use strict";t.d(n,{g:()=>l});var i=t(87329),a=t(46732),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}].concat((0,i.Z)(a.JP.definitions))}},42732:(e,n,t)=>{"use strict";t.d(n,{c:()=>v});var i=t(87329),a=t(82492),l=t.n(a),o=t(26075),r=t(90386),d=t(67294),s=t(59250),c=t(25550),u=t(18627),m=t(66411),p=t(78285),v=function(e){var n=e.post,t=e.onShowLess,a=e.setDismissedPostId,v=n.id,k=n.collection,f=(0,c.r)().viewerId,g=(0,s.jM)(),b=g.setSeeLessPostIds,S=g.isMutingFromHomeFeed,h=(0,p.w)(),y=(0,o.x)().cache,E=(0,u.A)(),N=(0,m.pK)(),w=(0,d.useRef)(null),x=(0,d.useCallback)((function(){w.current=window.setTimeout((function(){E.event("post.see_less",{userId:f,collection:null==k?void 0:k.id,postId:v,source:N})}),3e3)}),[]),C=(0,d.useCallback)((function(){null!==w.current&&window.clearTimeout(w.current)}),[]),F=(0,d.useCallback)((function(){y.modify({id:y.identify((0,r.kQ)("ROOT_QUERY")),fields:{webRecommendedFeed:function(e,n){var t=n.readField;return l()({},e,{items:e.items.filter((function(e){return(null==e?void 0:e.post)&&t("id",e.post)!==v}))})}}})}),[v]);return{handleShowLess:(0,d.useCallback)((function(){x(),F(),S&&(b((function(e){return[].concat((0,i.Z)(e),[v])})),null==a||a(v)),h({toastStyle:"USER_NEGATIVE_SIGNAL",extraParams:{onClickUndo:C}}),null==t||t()}),[])}}},4088:(e,n,t)=>{"use strict";t.d(n,{u:()=>l});var i=t(87329),a=t(68216),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostUrl_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"isSeries"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"uniqueSlug"}}]}}].concat((0,i.Z)(a.$m.definitions))}},25145:(e,n,t)=>{"use strict";t.d(n,{D:()=>s,L:()=>c});var i=t(67294),a=t(84739),l=t(60671),o=t(92661),r=t(43487),d=t(68427),s=function(){var e=(0,r.v9)((function(e){return e.config.authDomain})),n=(0,o.k6)(),t=n.type===l.Cr.USER,s=(0,o.uk)(),c=(0,d.B)(),u=(0,a.I)();return(0,i.useCallback)((function(n){var i,a=n.uniqueSlug||n.id;if(n.isSeries)return"https://".concat(e).concat(s("ShowSeries",{postId:a}));if(null!==(i=n.sequence)&&void 0!==i&&i.slug)return"https://".concat(e).concat(s("ShowSequencePost",{sequenceSlug:n.sequence.slug,postId:a}));if(n.collection&&!t){var l=c({id:n.collection.id,domain:n.collection.domain,slug:n.collection.slug});return"".concat(l,"/").concat(a)}if(n.creator){var o=u(n.creator);return"".concat(o,"/").concat(a)}return"https://".concat(e).concat(s("ShowPost",{postId:a}))}),[n,s,c,u])},c=function(e){return s()(e)}},21309:(e,n,t)=>{"use strict";t.d(n,{t:()=>r});var i=t(67294),a=t(77355),l=t(14646),o=function(e){var n;return{fontWeight:null!==(n=e.newFonts.detail.boldWeight)&&void 0!==n?n:"bold"}},r=function(e){var n=e.collection,t=e.marginLeft,r=(0,l.I)();return n?i.createElement(a.x,{marginLeft:t,display:"inline-block"},i.createElement("strong",{className:r(o)},n.name)):null}},26700:(e,n,t)=>{"use strict";t.d(n,{q:()=>c});var i=t(67294),a=t(18978),l=t(68427),o=t(69992),r=t(93310),d=t(30020),s=t(87691),c=function(e){var n=e.collection,t=e.clamp,c=e.popoverPlacement,u=void 0===c?"bottom":c,m=e.scale,p=void 0===m?"M":m,v=e.testId,k=(0,l.R)(n);return i.createElement(o.$,{placement:u,targetDistance:10,mouseLeaveDelay:100,mouseEnterDelay:d.w,popoverRenderFn:function(){return i.createElement(a.L,{collection:n})},display:"block"},i.createElement(r.r,{inline:!0,href:k,linkStyle:"SUBTLE",display:"flex",rules:{alignItems:"center"},"data-testid":v},i.createElement(s.F,{scale:p,color:"DARKER",clamp:t},n.name)))}},32947:(e,n,t)=>{"use strict";t.d(n,{l:()=>v});var i=t(22122),a=t(81253),l=t(67294),o=t(38352),r=t(93310),d=t(47230),s=t(92661),c=t(60448),u=["size","href","children","handleClick","buttonStyle","type","isVisible"],m=["href","children","handleClick"],p=["handleClick","isVisible","children","href"],v=function(e){var n=e.size,t=e.href,o=e.children,r=e.handleClick,d=e.buttonStyle,m=e.type,p=e.isVisible,v=void 0===p||p,b=(0,a.Z)(e,u),S=!(0,c.T)(),h=(0,s.dh)(),y=(0,s.H2)(),E=(0,l.useCallback)((function(e){null==r||r(e)}),[r]);if(!v)return null;var N=h(new URL(t).pathname),w=null==N?void 0:N.params.postId,x=t;switch(S||(x=w?y("ShowMobileWebEditorRedirectEditStory",{postId:w}):y("ShowMobileWebEditorRedirectNewStory",{})),m){case"link":return l.createElement(k,(0,i.Z)({href:x,handleClick:E},b),o);case"button":return l.createElement(g,{buttonStyle:d,size:n,href:x,handleClick:E},o);case"popover":return l.createElement(f,(0,i.Z)({isVisible:v,href:x,handleClick:E},b),o)}},k=function(e){var n=e.href,t=e.children,o=e.handleClick,d=(0,a.Z)(e,m);return l.createElement(r.r,(0,i.Z)({href:n,onClick:o},d),t)},f=function(e){var n=e.handleClick,t=e.isVisible,r=void 0===t||t,d=e.children,s=e.href,c=(0,a.Z)(e,p);return r?l.createElement(o.Sl,null,l.createElement(k,(0,i.Z)({href:s,handleClick:n},c),d)):null},g=function(e){var n=e.href,t=e.size,i=e.buttonStyle,a=e.children,o=e.handleClick;return l.createElement(d.zx,{buttonStyle:i,size:t,href:n,onClick:o},a)}},75514:(e,n,t)=>{"use strict";t.d(n,{H:()=>i});var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UserReportStoryMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetAuthorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"alsoBlockAuthor"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reason"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reportStoryAndMaybeBlockAuthor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"targetAuthorId"},value:{kind:"Variable",name:{kind:"Name",value:"targetAuthorId"}}},{kind:"Argument",name:{kind:"Name",value:"alsoBlockAuthor"},value:{kind:"Variable",name:{kind:"Name",value:"alsoBlockAuthor"}}},{kind:"Argument",name:{kind:"Name",value:"reason"},value:{kind:"Variable",name:{kind:"Name",value:"reason"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isBlocking"}}]}}]}}]}}]}},78964:(e,n,t)=>{"use strict";t.d(n,{J:()=>s});var i=t(34699),a=t(21919),l=t(67294),o=t(18627),r=t(78285),d=t(75514);function s(e){var n=e.viewerId,t=e.targetAuthorId,s=e.targetPostId,c=e.onOptimisticComplete,u=(0,r.w)(),m=(0,o.A)(),p=(0,a.D)(d.H),v=(0,i.Z)(p,1)[0];return(0,l.useCallback)((function(e,i){v({variables:{targetAuthorId:t,targetPostId:s,alsoBlockAuthor:e,reason:i},onCompleted:function(){u({message:"Successfully reported post."}),m.event("post.flagged",{postId:s,reason:i})},onError:function(){u({message:"Unable to report this story. Please try again later."})},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:t,viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(t,"-viewerId:").concat(n),isBlocking:e}}}}),null==c||c()}),[v,n,t,s,c])}},91727:(e,n,t)=>{"use strict";t.d(n,{S:()=>i,P:()=>a});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isAuthorNewsletter"}}]}}]},a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendPostAsEmailsMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendPostAsEmails"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},70679:(e,n,t)=>{"use strict";t.d(n,{w:()=>w});var i=t(96156),a=t(34699),l=t(21919),o=t(67294),r=t(25267),d=t(38352),s=t(93310),c=t(77355),u=t(1383),m=t(87691),p=t(14646),v=t(78285);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},k.apply(this,arguments)}var f=o.createElement("path",{d:"M0 .35v15.3h20V.35H0zm6.95 9.38l3.05 2.5 3.05-2.5 4.88 4.73H2.07l4.88-4.73zM1.2 13.64V5.02l4.82 3.94-4.82 4.68zm12.78-4.68l4.82-3.94v8.62l-4.82-4.68zm4.82-7.42v1.94l-8.8 7.2-8.8-7.2V1.54h17.6z"});const g=function(e){return o.createElement("svg",k({width:20,height:16,viewBox:"0 0 20 16"},e),f)};var b=t(68894),S=t(91727);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function E(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}}var N={height:"16px",width:"16px",marginLeft:"4px"};function w(e){var n=e.post,t=e.onClick,i=e.menuStyle,k=(0,p.I)(),f=(0,b.O)(!1),h=(0,a.Z)(f,3),w=h[0],x=h[1],C=h[2],F=(0,v.w)(),O=function(){C(),t()},P=(0,l.D)(S.P,{variables:{postId:(null==n?void 0:n.id)||""},onCompleted:function(e){var n=e.sendPostAsEmails;F(n?{message:"Your story has been emailed to subscribers.",toastStyle:"MESSAGE",duration:2e3}:{message:"We couldn't process your request. Try again, or contact our support team.",toastStyle:"ERROR",duration:2e3})},update:function(e,t){var i={id:"Post:".concat(null==n?void 0:n.id),fragment:S.S,fragmentName:"NewsletterV3EmailToSubscribersMenuItem_post"},a=e.readFragment(i);t.data&&a&&e.writeFragment(y(y({},i),{},{data:y(y({},a),{},{isAuthorNewsletter:t.data.sendPostAsEmails})}))}}),I=(0,a.Z)(P,1)[0];return o.createElement(r.I,null,(function(e){var a,l,r;return e&&e.id===(null==n||null===(a=n.creator)||void 0===a?void 0:a.id)&&(null==n||!n.isNewsletter)&&((null==n||null===(l=n.creator)||void 0===l||null===(r=l.newsletterV3)||void 0===r?void 0:r.subscribersCount)||0)>0?o.createElement(o.Fragment,null,o.createElement(d.Sl,{paddingTopBottom:"8px"},o.createElement(s.r,{"data-testid":"emailToSubscribersMenuItem",onClick:function(){null!=n&&n.isAuthorNewsletter?(F({message:"You’ve already sent this story to subscribers.",toastStyle:"ERROR",duration:2e3}),t()):x()}},"TEXT"===i?o.createElement(c.x,{display:"inline-block"},o.createElement(m.F,{scale:"M"},"Email to subscribers")):o.createElement(c.x,{display:"inline-block"},o.createElement(g,{className:k([E,N])}),o.createElement(c.x,{display:"inline-block",marginLeft:"20px"},o.createElement(m.F,{scale:"S"},"Email to subscribers"))))),o.createElement(u.Q,{onConfirm:function(){I(),O()},isVisible:w,hide:O,titleText:"Email to subscribers",confirmText:"Send",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!0,withCloseButton:!0,isDestructiveAction:!1},"A link to this story will be emailed to all your subscribers.")):o.createElement(o.Fragment,null)}))}},34796:(e,n,t)=>{"use strict";t.d(n,{F:()=>d});var i,a=t(67294),l=t(21309),o=t(6443),r=t(39727);!function(e){e.CollectionPendingAsEditorAndAuthor="CollectionPendingAsEditorAndAuthor",e.CollectionPendingKnown="CollectionPendingKnown",e.CollectionPending="CollectionPending",e.CollectionUnsubmitted="CollectionUnsubmitted",e.Normal="Normal"}(i||(i={}));var d=function(e){var n=e.post,t=s(n);if(!n||!t)return null;var o=n.pendingCollection,r=a.createElement(l.t,{collection:o,marginLeft:"4px"});switch(t){case i.CollectionPendingAsEditorAndAuthor:return a.createElement(a.Fragment,null,"Draft in",r);case i.CollectionPendingKnown:return a.createElement(a.Fragment,null,"Draft submitted to",r);case i.CollectionPending:return a.createElement(a.Fragment,null,"Submitted draft");case i.CollectionUnsubmitted:return a.createElement(a.Fragment,null,"Unsubmitted draft");case i.Normal:return a.createElement(a.Fragment,null,"Draft")}},s=function(e){var n,t=(0,o.H)().value,a=null==e?void 0:e.pendingCollection,l=null==e||null===(n=e.creator)||void 0===n?void 0:n.id,d=!!t&&!(null==a||!a.creator)&&a.creator.id===t.id,s=(0,r.g)(a).viewerEdge,c=null==s?void 0:s.isEditor,u=d||c,m=u||!!t&&t.id===l,p=m&&a;return!e||e.isPublished?null:m&&"PENDING"===e.statusForCollection?p?u&&t&&t.id===l?i.CollectionPendingAsEditorAndAuthor:i.CollectionPendingKnown:i.CollectionPending:"NOT_YET_SUBMITTED"===e.statusForCollection?i.CollectionUnsubmitted:i.Normal}},43220:(e,n,t)=>{"use strict";t.d(n,{U:()=>i,I:()=>a});var i=function(e){return!!e&&(e.isAuroraVisible||"Collection"===e.__typename&&e.isAuroraEligible&&e.viewerEdge.isEditor)},a=function(e){return!!e&&("Collection"===e.__typename?e.isAuroraVisible||e.isAuroraEligible&&e.viewerEdge.isEditor:e.isAuroraVisible)}},36736:(e,n,t)=>{"use strict";t.d(n,{x:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useIsPinnedInContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedByCreatorAt"}}]}}]}},31048:(e,n,t)=>{"use strict";t.d(n,{K:()=>d,I:()=>s});var i=t(34699),a=t(21919),l=t(67294),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetPinnedAtMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pinnedAt"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"setPinnedAt"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"targetCollectionId"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}},{kind:"Argument",name:{kind:"Name",value:"pinnedAt"},value:{kind:"Variable",name:{kind:"Name",value:"pinnedAt"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}}]}}]}}]}}]},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostSetPinnedByCreatorAtMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isPinned"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setPostPinnedOnCreatorProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"isPinned"},value:{kind:"Variable",name:{kind:"Name",value:"isPinned"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},d=function(e){var n=e.id,t=e.collection,r=e.pendingCollection,d=e.pinnedAt,s=(t||r||{id:""}).id,c=(0,a.D)(o,{optimisticResponse:{__typename:"Mutation",setPinnedAt:{__typename:"Post",id:n,collection:t,pendingCollection:r,pinnedAt:d?0:Date.now()}}}),u=(0,i.Z)(c,1)[0],m=l.useCallback((function(){return u({variables:{postId:n,collectionId:s,pinnedAt:!d}})}),[n,s,d,u]);return[d,m]},s=function(e){var n=e.id,t=e.pinnedByCreatorAt,o=(0,a.D)(r,{optimisticResponse:{setPostPinnedOnCreatorProfile:{__typename:"MutationSuccess"}},update:function(e,i){var a;"MutationSuccess"===(null===(a=i.data)||void 0===a?void 0:a.setPostPinnedOnCreatorProfile.__typename)&&e.modify({id:"Post:".concat(n),fields:{pinnedByCreatorAt:function(){return t?0:Date.now()}}})}}),d=(0,i.Z)(o,1)[0],s=l.useCallback((function(){return d({variables:{postId:n,isPinned:!t}})}),[n,d,t]);return[t,s]}},9272:(e,n,t)=>{"use strict";t.d(n,{n:()=>w});var i=t(96156),a=t(67294),l=t(93310),o=t(30020),r=t(87691),d=t(18627),s=t(66411),c=t(14646);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},u.apply(this,arguments)}var m=a.createElement("path",{d:"M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"});const p=function(e){return a.createElement("svg",u({width:24,height:24,viewBox:"0 0 24 24"},e),m)};function v(){return v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},v.apply(this,arguments)}var k=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.47 20.27a6.08 6.08 0 0 1-4.06-1.55c-.74.2-1.51.3-2.29.3-4.48 0-8.12-3.35-8.12-7.48 0-4.15 3.64-7.5 8.12-7.5 4.48 0 8.12 3.35 8.12 7.48 0 1.98-.81 3.83-2.3 5.23.02.17.05.34.1.53.2.66.52 1.33 1 1.96a.66.66 0 0 1-.53 1.04h-.04z"});const f=function(e){return a.createElement("svg",v({width:24,height:24,viewBox:"0 0 24 24"},e),k)};function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=function(e,n){return"LIGHTER"===n?e.colorTokens.foreground.neutral.primary.hover:e.colorTokens.foreground.neutral.secondary.base},h=function(e,n){return function(t){return{cursor:n?"not-allowed":"pointer",border:0,opacity:1,padding:"4px 0",display:"flex",alignItems:"center",fill:"LIGHTER"===e?t.colorTokens.foreground.neutral.secondary.base:t.baseColor.fill.light,":hover":n?void 0:{fill:S(t,e),"& p":{color:S(t,e)}}}}},y=function(e){return{cursor:"not-allowed",fill:e.colorTokens.foreground.neutral.secondary.base,opacity:.25}},E=function(e){var n=e.disabled,t=e.handleClick,i=e.href,o=e.children,r=e.responsesCountColor,d=e.testId,s=(0,c.I)();return i?a.createElement(l.r,{onClick:t,href:i,rules:h(r,n),"aria-label":"responses",disabled:n,"data-testid":d},o):a.createElement("button",{onClick:t,className:s(h(r,n)),"aria-label":"responses",disabled:n,"data-testid":d},o)},N=function(e){var n=e.disabled,t=e.iconStylesOverride,i=(0,c.I)();return n?a.createElement(f,{className:i([y])}):a.createElement(p,{className:i([t])})},w=function(e){var n=e.disabled,t=e.disabledTooltipText,i=void 0===t?"":t,l=e.responsesCount,u=e.handleClick,m=e.trackingData,p=e.iconStylesOverride,v=e.countStylesOverride,k=e.responsesCountColor,f=void 0===k?"LIGHTER":k,g=e.responsesCountScale,S=void 0===g?"M":g,h=e.href,y=(0,c.I)(),w=(0,d.A)(),x=(0,s.pK)(),C=!n&&l,F=(0,a.useCallback)((function(e){null==u||u(e),w.event("responses.viewAllClicked",b(b({},m),{},{source:x}))}),[w,u,m,x]);return a.createElement(o._,{tooltipText:n?i:"Respond",targetDistance:15},a.createElement(E,{handleClick:n?void 0:F,responsesCountColor:f,disabled:n,href:h},a.createElement(N,{disabled:n,iconStylesOverride:p}),!!C&&a.createElement(r.F,{scale:S,color:f},a.createElement("span",{className:"pw-responses-count ".concat(y([v]))},l))))}},38160:(e,n,t)=>{"use strict";t.d(n,{c:()=>o});var i=t(22122),a=t(67294),l=t(9272),o=function(e){var n=!e.allowResponses||e.isLimitedState||!e.isPublished,t=(0,a.useMemo)((function(){return e.isPublished?e.allowResponses?e.isLimitedState?"This feature is temporarily disabled":void 0:"Responses hidden":"You cannot respond to a draft"}),[e.isPublished,e.allowResponses,e.isLimitedState]);return a.createElement(l.n,(0,i.Z)({},e,{disabled:n,disabledTooltipText:t}))}},74302:(e,n,t)=>{"use strict";t.d(n,{Q:()=>i,t:()=>a});var i="This story is also a response to another story. Are you sure you want to delete this story?",a="This story is also a response to another story. Any edits are applied to both."},17417:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var i=t(22122),a=t(67294),l=t(93310),o=t(77355),r=t(73917),d=t(87691);function s(e){var n=e.boxProps,t=void 0===n?{}:n,s=e.children,c=e.dismiss,u=e.dismissText,m=void 0===u?"Ok, got it.":u,p=e.isVisible,v=e.onShow,k=e.message,f=e.withBoldNew,g=void 0!==f&&f,b=e.targetDistance,S=void 0===b?5:b,h=e.positioningStrategy;return(0,a.useEffect)((function(){p&&v&&v()}),[p]),a.createElement(r.J,{hide:c,isVisible:p,noPortal:!0,darkTheme:!0,popoverRenderFn:function(){return a.createElement(o.x,(0,i.Z)({padding:"16px"},t),a.createElement(o.x,{marginBottom:"12px"},a.createElement(d.F,{scale:"S",color:"WHITE",tag:"span"},g&&a.createElement("strong",null,"New! "),k)),a.createElement(d.F,{scale:"S",color:"WHITE"},a.createElement(l.r,{onClick:c,linkStyle:"OBVIOUS",inline:!0},m)))},referenceWidth:"100%",targetDistance:S,positioningStrategy:h},s)}},53563:(e,n,t)=>{"use strict";t.d(n,{u:()=>O});var i=t(34699),a=t(67294),l=t(71899),o=t(91553),r=t(77355),d=t(47230),s=t(91583),c=t(18635),u=t(18634),m=t(21755),p=t(20113),v=t(87691),k=t(62528),f=t(78142),g=t(17583),b={xs:"SMALL",sm:"REGULAR",md:"REGULAR",lg:"REGULAR",xl:"REGULAR"},S={position:"absolute",top:"8px",left:"0",width:"100%",minHeight:"calc(100% - 8px)",borderRadius:"12px 12px 0 0",padding:"0 24px 24px"},h=function(e){return{"0%":{transform:e?"translateY(100%)":"translateY(16px)"},"100%":{transform:e?"translateY(0%)":"translateY(0px)"}}},y=function(e){return{"0%":{transform:e?"translateY(0%)":"translateY(0px)"},"100%":{transform:e?"translateY(100%)":"translateY(16px)"}}},E={"0%":{opacity:"0"},"100%":{opacity:"1"}},N={"0%":{opacity:"1"},"100%":{opacity:"0"}},w={"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.02)"},"75%":{transform:"scale(1.02)"},"100%":{transform:"scale(1)"}},x={"0%":{background:(0,f.Uy)(0)},"100%":{background:(0,f.Uy)(.25)}},C={"0%":{background:(0,f.Uy)(.25)},"100%":{background:(0,f.Uy)(0)}},F=function(e){var n=e.slideAnimationName,t=e.fadeAnimationName,i=e.isMobile;return function(){var e="".concat(n," ").concat(300,"ms forwards cubic-bezier(0.4, 0, 0.2, 1)");if(i)return{animation:e,position:"absolute",width:"100%",height:"calc(100% - 8px)"};var a="".concat(t," 150ms forwards ease-in-out");return{animation:"".concat(e,", ").concat(a)}}},O=function(e){var n=e.hide,t=e.title,O=e.subtitle,P=e.subtitleTextAlign,I=e.onConfirm,D=e.confirmText,T=e.confirmButtonStyle,R=void 0===T?"STRONG":T,A=e.onCancel,V=e.cancelText,_=e.cancelButtonStyle,M=void 0===_?"OBVIOUS":_,j=e.children,L=e.withCloseButton,B=void 0===L||L,Z=e.hideOnConfirm,U=void 0===Z||Z,H=e.preventClickOutside,z=e.confirmDisabled,G=e.confirmBeforeLeavePage,K=e.delayHideEnabled,W=e.padding,Y=void 0===W?"32px":W,q=e.subtitleMargin,Q=void 0===q?"24px":q,J=e.subtitleColor,X=void 0===J?"DARKER":J,$=(0,a.useRef)(null),ee=(0,a.useState)(!1),ne=(0,i.Z)(ee,2),te=ne[0],ie=ne[1],ae=(0,a.useState)(!0),le=(0,i.Z)(ae,2),oe=le[0],re=le[1],de=(0,g.s)()===m.j.xs,se=(0,k.o)({modalSlideInKeyframe:h(de),modalSlideOutKeyframe:y(de),modalFadeInKeyframe:E,modalFadeOutKeyframe:N,modalBounceKeyframe:w,overlayFadeInKeyframe:x,overlayFadeOutKeyframe:C}),ce=se.modalSlideInKeyframe,ue=se.modalSlideOutKeyframe,me=se.modalFadeInKeyframe,pe=se.modalFadeOutKeyframe,ve=se.modalBounceKeyframe,ke=se.overlayFadeInKeyframe,fe=se.overlayFadeOutKeyframe,ge=(0,a.useCallback)((function(){re(!1)}),[]),be=(0,a.useCallback)((function(e){$.current&&H&&!de&&(e.preventDefault(),e.stopPropagation(),$.current.style.animation="".concat(ve," 600ms ease-in-out"),ie(!0))}),[ve,H,de]);(0,l.Z)($,be),(0,o.a)({disabled:!G});var Se,he=(0,a.useCallback)((function(){null==I||I(),U&&ge()}),[ge,I,U]),ye=(0,a.useCallback)((function(){null==A||A(),ge()}),[ge,A]),Ee=(0,a.useMemo)((function(){return D||V?a.createElement(r.x,{display:"flex",justifyContent:"flex-end",gap:"16px"},V&&a.createElement(d.zx,{buttonStyle:M,onClick:ye,size:b},V),D&&a.createElement(d.zx,{buttonStyle:R,onClick:he,size:b,disabled:z},D)):null}),[I,D,R,A,V,M,ge,z]);return(0,a.useEffect)((function(){if($.current&&te)return $.current.addEventListener("animationend",e),function(){var n;null===(n=$.current)||void 0===n||n.removeEventListener("animationend",e)};function e(){$.current.style.animation="",ie(!1)}}),[te,oe,n]),(0,a.useEffect)((function(){if(!oe&&n){var e=setTimeout((function(){n()}),310);return function(){clearTimeout(e)}}}),[oe,n]),(0,a.useEffect)((function(){K&&re(!1)}),[K]),a.createElement(s.V,{isVisible:oe,hide:H?void 0:ge,withCloseButton:!1,withLayerAnimation:!1,withAnimation:!0,padding:0,customBackgroundColor:(0,f.Uy)(.25),layerRules:(Se=oe?ke:fe,function(){return{animation:"".concat(Se," 150ms forwards ease-in-out")}}),containerRules:F({slideAnimationName:oe?ce:ue,fadeAnimationName:oe?me:pe,isMobile:de})},a.createElement(r.x,{ref:$,boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 10px",width:"540px",padding:Y,borderRadius:"4px",backgroundColor:"BACKGROUND",position:"relative",xs:S},a.createElement(u.y,{xs:!0,height:"56px",marginBottom:"16px",paddingTop:"16px"},Ee),a.createElement(r.x,{textAlign:"center"},a.createElement(p.X6,{scale:"S"},t)),O&&a.createElement(r.x,{marginTop:Q,textAlign:P},a.createElement(v.F,{scale:"M",color:X},O)),j&&a.createElement(r.x,{marginTop:"32px"},j),Ee&&a.createElement(u.y,{sm:!0,md:!0,lg:!0,xl:!0,marginTop:"32px"},Ee),B&&a.createElement(r.x,{position:"absolute",right:{xs:void 0,sm:"16px",md:"16px",lg:"16px",xl:"16px"},top:{xs:"18px",sm:"16px",md:"16px",lg:"16px",xl:"16px"},left:{xs:"18px",sm:void 0,md:void 0,lg:void 0,xl:void 0}},a.createElement(c.P,{isPositionAbsolute:!1,compensateInnerPadding:!1,size:"REGULAR",onClick:ge}))))}},58992:(e,n,t)=>{"use strict";t.d(n,{l:()=>i});var i=function(e){return"APPROVED"===e.statusForCollection&&e.isPublished}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/703.f98c7898.chunk.js.map